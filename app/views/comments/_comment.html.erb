<br>
<small class='form-text text-muted' style='font-size:10px;'><%= comment.date_time %></small><br>
<b style="color:#167FD2"><%= comment.user.username %>:</b>
<% if current_user.can_modify_comment?(comment) %>
  <%= link_to task_comment_path(comment.task, comment), method: :delete, remote: true, data: { confirm: 'Are you sure?' }, class: 'right', title: 'Delete comment' do %>
    <i class="glyphicon glyphicon-remove"></i>
  <% end %>
  <%= link_to edit_task_comment_path(comment.task, comment), remote: true, class: 'right', title: 'Edit comment' do %>
    <i class="glyphicon glyphicon-edit "></i>
  <% end %>
<% end %><br>
<%= comment.body %><br>


<% images, audios, videos, pdfs, others = [], [], [], [], [] %>
<% comment.attachments.each do |attachment| %>
  <% images.push(attachment.file) if attachment.file.is_image? %>
  <% audios.push(attachment.file) if attachment.file.is_audio? %>
  <% videos.push(attachment.file) if attachment.file.is_video? %>
  <% pdfs.push(attachment.file) if attachment.file.is_pdf? %>
  <% others.push(attachment.file) if attachment.file.is_other? %>
<% end %>

<% images.each do |image| %>
  <%= image_tag(image.url, size: "25", alt: "broke", class: "comment-image") %>
<% end %>
<% unless images.empty? %> <br> <% end %>

<% audios.each do |audio| %>
  <%= audio_tag(audio.url, controls: true, class: "comment-audio") %>
<% end %>

<% videos.each do |video| %>
  <%= video_tag(video.url, controls: true, size: "330x250", class: "comment-video") %>
<% end %>
<% unless videos.empty? %> <br> <% end %>

<% pdfs.each do |pdf| %>
  <%= link_to pdf.get_original_filename, pdf.url, target: :_blank %><br>
<% end %>
<% unless pdfs.empty? %> <br> <% end %>

<% others.each do |other| %>
  <%= link_to other.get_original_filename, download_file_path(comment.task.project, other), target: :_blank %><br>
<% end %>
